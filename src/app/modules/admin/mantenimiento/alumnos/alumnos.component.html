<div class="alumnos-container">
    <div class="alumnos-header">
        <div>
            <h1 class="alumnos-title">Gestión de alumnos</h1>
            <p class="alumnos-subtitle">Administra la información de los estudiantes matriculados.</p>
        </div>
        <button mat-flat-button color="primary" (click)="createAlumno()">
            <mat-icon>person_add</mat-icon>
            Nuevo alumno
        </button>
    </div>

    <mat-form-field appearance="outline" class="alumnos-search">
        <mat-label>Buscar alumno</mat-label>
        <input
            matInput
            placeholder="Buscar por DNI, nombres o correo electrónico"
            [formControl]="searchControl"
        />
        <button
            *ngIf="searchControl.value"
            mat-icon-button
            matSuffix
            aria-label="Limpiar búsqueda"
            (click)="searchControl.reset('')"
        >
            <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>

    <mat-progress-bar *ngIf="isLoading$ | async" mode="indeterminate"></mat-progress-bar>

    <ag-grid-angular
        class="ag-theme-alpine alumnos-grid"
        [columnDefs]="columnDefs"
        [defaultColDef]="defaultColDef"
        [rowData]="filteredAlumnos$ | async"
        [frameworkComponents]="frameworkComponents"
        [suppressMovableColumns]="true"
        [animateRows]="true"
    ></ag-grid-angular>
</div>
