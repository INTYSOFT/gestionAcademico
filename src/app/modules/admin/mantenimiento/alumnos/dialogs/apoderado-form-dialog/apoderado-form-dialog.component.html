<h2 mat-dialog-title>{{ apoderado ? 'Editar apoderado' : 'Registrar apoderado' }}</h2>

<form [formGroup]="form" (ngSubmit)="submit()" mat-dialog-content class="apoderado-form">
    <div class="form-grid">
        <mat-form-field appearance="outline">
            <mat-label>DNI</mat-label>
            <input matInput formControlName="dni" maxlength="8" />
            <mat-error *ngIf="form.controls.dni.hasError('required')">El DNI es obligatorio.</mat-error>
            <mat-error *ngIf="form.controls.dni.hasError('pattern')">Ingresa un DNI válido.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Apellido paterno</mat-label>
            <input matInput formControlName="apellidoPaterno" />
            <mat-error *ngIf="form.controls.apellidoPaterno.hasError('required')">
                El apellido paterno es obligatorio.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Apellido materno</mat-label>
            <input matInput formControlName="apellidoMaterno" />
            <mat-error *ngIf="form.controls.apellidoMaterno.hasError('required')">
                El apellido materno es obligatorio.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field-full">
            <mat-label>Nombres</mat-label>
            <input matInput formControlName="nombres" />
            <mat-error *ngIf="form.controls.nombres.hasError('required')">Los nombres son obligatorios.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Celular</mat-label>
            <input matInput formControlName="celular" maxlength="9" />
            <mat-error *ngIf="form.controls.celular.hasError('pattern')">Ingresa un número válido.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Correo electrónico</mat-label>
            <input matInput formControlName="correoElectronico" />
            <mat-error *ngIf="form.controls.correoElectronico.hasError('email')">Ingresa un correo válido.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field-full">
            <mat-label>Dirección</mat-label>
            <textarea matInput formControlName="direccion" rows="2"></textarea>
        </mat-form-field>
    </div>
</form>

<mat-dialog-actions align="end">
    <button mat-stroked-button type="button" (click)="cancel()" [disabled]="isSaving">Cancelar</button>
    <button mat-flat-button color="primary" type="submit" form="" (click)="submit()" [disabled]="isSaving">
        {{ apoderado ? 'Guardar cambios' : 'Registrar' }}
    </button>
</mat-dialog-actions>
