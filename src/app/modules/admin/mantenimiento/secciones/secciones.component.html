<div class="flex min-w-0 flex-auto flex-col">
  <div class="flex-auto p-6 sm:p-10">
    <section class="secciones">
      <header class="secciones__header">
        <mat-form-field appearance="outline" class="secciones__search-field">
          <mat-label>Buscar secciones</mat-label>
          <input
            matInput
            type="search"
            [formControl]="searchControl"
            placeholder="Nombre o capacidad" />
            @if (searchControl.value) {
              <button
                mat-icon-button
                matSuffix
                type="button"
                aria-label="Limpiar búsqueda"
                (click)="clearSearch()">
                <mat-icon>close</mat-icon>
              </button>
            }
          </mat-form-field>
          <button mat-raised-button color="primary" type="button" (click)="createSeccion()">
            <mat-icon>add</mat-icon>
            Nueva sección
          </button>
        </header>

        @if (isLoading$ | async) {
          <mat-progress-bar
            mode="indeterminate"
          color="primary"></mat-progress-bar>
        }

        <ag-grid-angular
          class="ag-theme-material secciones__grid"
          [theme]="'legacy'"
          [rowData]="secciones$ | async"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [animateRows]="true"
          [domLayout]="'autoHeight'"
        (gridReady)="onGridReady($event)"></ag-grid-angular>
      </section>
    </div>
  </div>
